<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="general.css" />

    <link rel="stylesheet" href="main.css" />
    <title>Todo List</title>
  </head>
  <body>
    <header class="main-header">
      <h1 class="logo"><a href="/">Todo List</a></h1>
      <button class="navigation-button"><a href="/add-todo">Add Todo</a></button>
      <section class="login-signup-btn">
        <button class="navigation-button login-btn"><a href="/login">Login</a></button>
        <button class="navigation-button signup-btn"><a href="/signup">Sign Up</a></button>
      </section>
    </header>
    <main class="main">
      <section class="pagination">
          <% if(currentPage !== 1) { %>
          <a href="/?page=1">1</a>
          <% } %>
          <a href="/?page=<%= currentPage %>" class="active"><%= currentPage %></a>
          <% if(hasPreviousPage) { %> 
            <a href="/?page=<%= previousPage %>"><%= previousPage %></a>          
            <% } %>
          <% if(hasNextPage) { %> 
            <a href="/?page=<%= nextPage %>"><%= nextPage %></a>          
            <% } %>
        
          <% if(lastPage !== currentPage && nextPage !== lastPage) { %>
            <a href="/?page=<%= lastPage %>"><%= lastPage %></a>
          <% } %>           
        </section>
      <section>
        <% if(todos.length > 0) { %>
          <% for(let todo of todos) { %>
        <ul class="all-todos">
          <div class="li">
          <li class="all-todos__todo-title"><%= todo.title %></li>
          <li class="all-todos__todo-body"><%= todo.body %></li>  
        </div>
          <div class="edit-delete-div">
            <button class="button edit-btn" style="width: 80px;"><a style="color: white;" href="/edit-todo/<%= todo._id %>" >Edit</a></button>    
            <form action="/delete/<%= todo._id %>" method="POST" class="delete-btn">
              <button type="submit delete-btn" class="button" style="width: 80px;">Delete</button>
            </form>
          </div>   
        </ul>
        <% } %>
        <% } else { %>
          <h1>No Todos Found</h1>
          <% } %>
          
      </section>
    </main>
  </body>
</html>
